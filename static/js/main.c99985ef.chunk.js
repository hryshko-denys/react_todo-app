(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{10:function(e){e.exports=JSON.parse('[{"title":"Learn HTML","id":"1","completed":false},{"title":"Learn JS","id":"2","completed":false},{"title":"Buy flowers","id":"3","completed":false}]')},13:function(e,t,a){e.exports=a(23)},18:function(e,t,a){},19:function(e,t,a){},23:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),s=a.n(l),i=(a(18),a(19),a(10)),o=a(3),c=a(12),u=a(4),d=a(5),m=a(7),p=a(6),f=a(1),k=a.n(f),h=(k.a.func.isRequired,k.a.shape({title:k.a.string.isRequired,id:k.a.string.isRequired,completed:k.a.bool.isRequired})),g=(k.a.arrayOf(h),k.a.arrayOf(h),k.a.bool.isRequired,k.a.bool.isRequired,k.a.func.isRequired,k.a.func.isRequired,k.a.func.isRequired,k.a.func.isRequired,k.a.string.isRequired,k.a.bool.isRequired,k.a.string.isRequired,k.a.func.isRequired,k.a.func.isRequired,k.a.func.isRequired,k.a.arrayOf(h),k.a.func.isRequired,k.a.bool.isRequired,k.a.bool.isRequired,k.a.func.isRequired,a(2)),b=a.n(g),v=a(11),E=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={title:"",isValid:!0},e.handleValue=function(t){var a=t.target.value.replace(/\s/," ").replace(/^\s/,"");e.setState((function(e){return{title:a,isValid:!0}}))},e.onSubmit=function(t){var a=e.props.addTask,n=e.state.title;n?"Enter"===t.key&&(a({title:n,id:Object(v.uuid)(),completed:!1}),e.setState({title:""})):e.setState({isValid:!1})},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.state,t=e.title,a=e.isValid,n=b()("new-todo ",{"new-todo--invalid":!a});return r.a.createElement("header",{className:"header"},r.a.createElement("h1",null,"todos"),r.a.createElement("input",{name:"task",className:n,placeholder:a&&"What needs to be done?",value:t,required:!0,onKeyPress:this.onSubmit,onChange:this.handleValue}),!a&&r.a.createElement("span",{className:"error-message"},"Please, type your task"))}}]),a}(r.a.Component),C=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={isEdited:!1,temporaryTitle:e.props.title},e.editTask=function(){e.setState((function(e){return{isEdited:!e.isEdited}}))},e.handleValue=function(t){var a=t.target.value.replace(/\s/," ").replace(/^\s/,"");e.setState((function(e){return{temporaryTitle:a}}))},e.onSubmit=function(t){var a=t.target.name,n=t.target.value,r=t.keyCode,l=e.props.onChangeCurrentTask,s=e.state.temporaryTitle;27!==r&&r||(l(s,a),l(n,a),e.setState((function(e){return{isEdited:!1}}))),13===r&&(l(n,a),l(n,a),e.setState((function(e){return{isEdited:!1}})))},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.isCompleted,n=e.title,l=e.toggle,s=e.onDeleted,i=this.state,o=i.isEdited,c=i.temporaryTitle;return r.a.createElement("li",{className:b()({completed:a,editing:o})},r.a.createElement("div",{className:"view"},r.a.createElement("input",{id:t,type:"checkbox",className:"toggle",value:t,onChange:l,checked:a}),r.a.createElement("label",{htmlFor:t,value:t,onDoubleClick:this.editTask},n),r.a.createElement("button",{type:"button",className:"destroy",value:t,onClick:s})),r.a.createElement("input",{name:t,type:"text",className:"edit",required:!0,ref:function(e){return e&&e.focus()},value:c,onChange:this.handleValue,onKeyUp:this.onSubmit,onBlur:this.onSubmit}))}}]),a}(r.a.Component),y=function(e){var t=e.tasks,a=e.tab,n=e.toggle,l=e.onDeleted,s=e.onAllSelected,i=e.onChangeCurrentTask,o=t;return"active"===a?o=t.filter((function(e){return!1===e.completed})):"completed"===a&&(o=t.filter((function(e){return!0===e.completed}))),r.a.createElement("section",{className:"main"},r.a.createElement("input",{type:"checkbox",id:"toggle-all",className:"toggle-all",onChange:s}),r.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"),r.a.createElement("ul",{className:"todo-list"},o.map((function(e){return r.a.createElement(C,{key:e.id,id:e.id,isCompleted:e.completed,title:e.title,toggle:n,onDeleted:l,onChangeCurrentTask:i})}))))};y.defaultProps={tasks:[]};var S=function(e){var t=e.tasks,a=e.onToggleTask,n=e.onClear,l=e.tab,s=t.filter((function(e){return!1===e.completed})).length,i=b()({selected:"all"===l});return r.a.createElement("footer",{className:"footer"},r.a.createElement("span",{className:"todo-count"},"".concat(s," items left")),r.a.createElement("ul",{className:"filters"},r.a.createElement("li",null,r.a.createElement("a",{className:i,name:"all",href:"#/",onClick:a},"All")),r.a.createElement("li",null,r.a.createElement("a",{className:b()({selected:"active"===l}),name:"active",href:"#/active",onClick:a},"Active")),r.a.createElement("li",null,r.a.createElement("a",{className:b()({selected:"completed"===l}),name:"completed",href:"#/completed",onClick:a},"Completed"))),r.a.createElement("button",{type:"button",className:"clear-completed",onClick:n},"Clear completed"))},O=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={tasks:e.props.tasksFromServer,tab:"all"},e.addNewTask=function(t){e.setState((function(e){return{tasks:[].concat(Object(c.a)(e.tasks),[t])}}))},e.changeCurrentTask=function(t,a){""!==t&&e.setState((function(e){return{tasks:e.tasks.map((function(e){return e.id===a?Object(o.a)(Object(o.a)({},e),{},{title:t}):e}))}}))},e.toggleCheck=function(t){var a=t.target.value;e.setState((function(e){return{tasks:e.tasks.map((function(e){return e.id===a?Object(o.a)(Object(o.a)({},e),{},{completed:!e.completed}):e}))}}))},e.toggleTask=function(t){switch(t.target.name){case"active":e.setState({tab:"active"});break;case"completed":e.setState({tab:"completed"});break;default:e.setState({tab:"all"})}},e.deleteTask=function(t){var a=t.target.value;e.setState((function(e){return{tasks:e.tasks.filter((function(e){return e.id!==a}))}}))},e.clearCompletedTasks=function(){e.setState((function(e){return{tasks:e.tasks.filter((function(e){return!1===e.completed}))}}))},e.selectAllAsCompleted=function(t){var a=t.target.checked;e.setState((function(e){return{tasks:e.tasks.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{completed:a})}))}}))},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("todoApp"));e&&this.setState(Object(o.a)({},e))}},{key:"componentDidUpdate",value:function(){localStorage.setItem("todoApp",JSON.stringify(this.state))}},{key:"render",value:function(){var e=this.state,t=e.tasks,a=e.tab,n=t.length;return r.a.createElement("section",{className:"todoapp"},r.a.createElement(E,{addTask:this.addNewTask}),r.a.createElement(y,{tasks:t,tab:a,toggle:this.toggleCheck,onDeleted:this.deleteTask,onAllSelected:this.selectAllAsCompleted,onChangeCurrentTask:this.changeCurrentTask}),n?r.a.createElement(S,{tasks:t,onToggleTask:this.toggleTask,tab:a,onClear:this.clearCompletedTasks}):"")}}]),a}(r.a.Component);O.defaultProps={tasks:[]};var T=function(){return r.a.createElement(O,{tasksFromServer:i})};s.a.render(r.a.createElement(T,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.c99985ef.chunk.js.map