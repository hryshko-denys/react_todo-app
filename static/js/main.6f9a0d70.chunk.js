(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{10:function(e){e.exports=JSON.parse('[{"title":"Learn HTML","id":"1","completed":false},{"title":"Learn JS","id":"2","completed":false},{"title":"Buy flowers","id":"3","completed":false}]')},13:function(e,t,a){e.exports=a(23)},18:function(e,t,a){},19:function(e,t,a){},23:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(9),s=a.n(r),o=(a(18),a(19),a(10)),i=a(3),c=a(12),u=a(4),d=a(5),m=a(7),p=a(6),f=a(11),h=a(1),k=a.n(h),g=(k.a.func.isRequired,k.a.shape({title:k.a.string.isRequired,id:k.a.string.isRequired,completed:k.a.bool.isRequired})),v=(k.a.arrayOf(g),k.a.arrayOf(g),k.a.bool.isRequired,k.a.bool.isRequired,k.a.func.isRequired,k.a.func.isRequired,k.a.func.isRequired,k.a.func.isRequired,k.a.string.isRequired,k.a.bool.isRequired,k.a.string.isRequired,k.a.func.isRequired,k.a.func.isRequired,k.a.func.isRequired,k.a.arrayOf(g),k.a.func.isRequired,k.a.bool.isRequired,k.a.bool.isRequired,k.a.func.isRequired,a(2)),y=a.n(v),b=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={title:"",isValid:!0},e.handleValue=function(t){var a=t.target.value.replace(/\s/," ").replace(/^\s/,"");e.setState((function(e){return{title:a,isValid:!0}}))},e.onSubmit=function(t){var a=e.props.addTask,n=e.state.title;n?"Enter"===t.key&&(a(n),e.setState({title:""})):e.setState({isValid:!1})},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.state,t=e.title,a=e.isValid;return l.a.createElement("header",{className:"header"},l.a.createElement("h1",null,"todos"),l.a.createElement("input",{name:"task",className:y()("new-todo ",{"new-todo--invalid":!a}),placeholder:a&&"What needs to be done?",value:t,required:!0,onKeyPress:this.onSubmit,onChange:this.handleValue}),!a&&l.a.createElement("span",{className:"error-message"},"Please, type your task"))}}]),a}(l.a.Component),C=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={isEdited:!1,temporaryTitle:e.props.title},e.editTask=function(){e.setState((function(e){return{isEdited:!e.isEdited}}))},e.handleValue=function(t){var a=t.target.value.replace(/\s/," ").replace(/^\s/,"");e.setState((function(e){return{temporaryTitle:a}}))},e.onSubmit=function(t){var a=t.target.name,n=t.target.value,l=t.keyCode,r=e.props.onChangeCurrentTask,s=e.state.temporaryTitle;27!==l&&l||(r(s,a),r(n,a),e.setState((function(e){return{isEdited:!1}}))),13===l&&(r(n,a),r(n,a),e.setState((function(e){return{isEdited:!1}})))},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.isCompleted,n=e.title,r=e.toggle,s=e.onDeleted,o=this.state,i=o.isEdited,c=o.temporaryTitle;return l.a.createElement("li",{className:y()({completed:a,editing:i})},l.a.createElement("div",{className:"view"},l.a.createElement("input",{id:t,type:"checkbox",className:"toggle",value:t,onChange:r,checked:a}),l.a.createElement("label",{htmlFor:t,value:t,onDoubleClick:this.editTask},n),l.a.createElement("button",{type:"button",className:"destroy",value:t,onClick:s})),l.a.createElement("input",{name:t,type:"text",className:"edit",required:!0,ref:function(e){return e&&e.focus()},value:c,onChange:this.handleValue,onKeyUp:this.onSubmit,onBlur:this.onSubmit}))}}]),a}(l.a.Component),O=function(e){var t=e.tasks,a=e.showOnlyActive,n=e.showOnlyCompleted,r=e.toggle,s=e.onDeleted,o=e.onAllSelected,i=e.onChangeCurrentTask,c=t;return a?c=t.filter((function(e){return!1===e.completed})):n&&(c=t.filter((function(e){return!0===e.completed}))),l.a.createElement("section",{className:"main"},l.a.createElement("input",{type:"checkbox",id:"toggle-all",className:"toggle-all",onChange:o}),l.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"),l.a.createElement("ul",{className:"todo-list"},c.map((function(e){return l.a.createElement(C,{key:e.id,id:e.id,isCompleted:e.completed,title:e.title,toggle:r,onDeleted:s,onChangeCurrentTask:i})}))))};O.defaultProps={tasks:[]};var E=function(e){var t=e.tasks,a=e.onToggleTask,n=e.onClear,r=e.showOnlyActive,s=e.showOnlyCompleted,o=t.filter((function(e){return!1===e.completed})).length;return l.a.createElement("footer",{className:"footer"},l.a.createElement("span",{className:"todo-count"},"".concat(o,"\n          items left")),l.a.createElement("ul",{className:"filters"},l.a.createElement("li",null,l.a.createElement("a",{className:y()({selected:!r&&!s}),name:"all",href:"#/",onClick:a},"All")),l.a.createElement("li",null,l.a.createElement("a",{className:y()({selected:r}),name:"active",href:"#/active",onClick:a},"Active")),l.a.createElement("li",null,l.a.createElement("a",{className:y()({selected:s}),name:"completed",href:"#/completed",onClick:a},"Completed"))),l.a.createElement("button",{type:"button",className:"clear-completed",onClick:n},"Clear completed"))},S=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={tasks:e.props.tasksFromServer,showOnlyCompleted:!1,showOnlyActive:!1},e.addNewTask=function(t){var a={title:t,id:Object(f.uuid)(),completed:!1};e.setState((function(e){return{tasks:[].concat(Object(c.a)(e.tasks),[a])}}))},e.changeCurrentTask=function(t,a){""!==t&&e.setState((function(e){return{tasks:e.tasks.map((function(e){return e.id===a?Object(i.a)(Object(i.a)({},e),{},{title:t}):e}))}}))},e.toggleCheck=function(t){var a=t.target.value;e.setState((function(e){return{tasks:e.tasks.map((function(e){return e.id===a?Object(i.a)(Object(i.a)({},e),{},{completed:!e.completed}):e}))}}))},e.toggleTask=function(t){switch(t.target.name){case"active":e.setState({showOnlyCompleted:!1,showOnlyActive:!0});break;case"completed":e.setState({showOnlyCompleted:!0,showOnlyActive:!1});break;default:e.setState({showOnlyCompleted:!1,showOnlyActive:!1})}},e.deleteTask=function(t){var a=t.target.value;e.setState((function(e){return{tasks:e.tasks.filter((function(e){return e.id!==a}))}}))},e.clearCompletedTasks=function(){e.setState((function(e){return{tasks:e.tasks.filter((function(e){return!1===e.completed}))}}))},e.selectAllAsCompleted=function(t){var a=t.target.checked;e.setState((function(e){return{tasks:e.tasks.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{completed:a})}))}}))},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("todoApp"));e&&this.setState(Object(i.a)({},e))}},{key:"componentDidUpdate",value:function(){localStorage.setItem("todoApp",JSON.stringify(this.state))}},{key:"render",value:function(){var e=this.state,t=e.tasks,a=e.showOnlyCompleted,n=e.showOnlyActive,r=t.length;return l.a.createElement("section",{className:"todoapp"},l.a.createElement(b,{addTask:this.addNewTask}),l.a.createElement(O,{tasks:t,showOnlyActive:n,showOnlyCompleted:a,toggle:this.toggleCheck,onDeleted:this.deleteTask,onAllSelected:this.selectAllAsCompleted,onChangeCurrentTask:this.changeCurrentTask}),r?l.a.createElement(E,{tasks:t,onToggleTask:this.toggleTask,showOnlyActive:n,showOnlyCompleted:a,onClear:this.clearCompletedTasks}):"")}}]),a}(l.a.Component);S.defaultProps={tasks:[]};var w=function(){return l.a.createElement(S,{tasksFromServer:o})};s.a.render(l.a.createElement(w,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.6f9a0d70.chunk.js.map